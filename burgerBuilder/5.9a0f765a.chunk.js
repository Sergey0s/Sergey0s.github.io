(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[5],{105:function(e,r,t){e.exports={Order:"Order__Order___4yi4Z",order_span:"Order__order_span___35gjW"}},109:function(e,r,t){"use strict";t.r(r);var a=t(4),n=t(5),o=t(7),s=t(6),c=t(8),i=t(0),p=t.n(i),l=t(11),d=t(105),u=t.n(d),m=function(e){var r=[];for(var t in e.ingredients)r.push({name:t,amount:e.ingredients[t]});var a=r.map((function(e){return p.a.createElement("span",{style:{textTransform:"capitalize",display:"inline-block",margin:"0 8px",border:"1px solid #ccc",padding:"5px"},key:e.name}," ",e.name," (",e.amount,")")})),n=Object.entries(e.orderData).map((function(e){return p.a.createElement("span",{style:{textTransform:"capitalize",display:"inline-block",margin:"0 8px",padding:"5px"},key:e[0]}," ",e[0],": ",e[1]," ")})),o=new Date(e.orderDate).toLocaleString();return p.a.createElement("div",{className:u.a.Order,onClick:e.clicked},p.a.createElement("p",null," ",p.a.createElement("span",{className:u.a.order_span},"Ingredients: "),a," "),p.a.createElement("p",null," ",p.a.createElement("span",{className:u.a.order_span},"Price: USD")," ",Number.parseFloat(e.price).toFixed(2)," $"),p.a.createElement("p",null," ",p.a.createElement("span",{className:u.a.order_span},"Delivery data:")," ",n),p.a.createElement("p",null," ",p.a.createElement("span",{className:u.a.order_span},"Order date:")," ",o," "))},h=t(14),f=t(27),g=t(10),k=t(26),y=function(e){function r(){var e,t;Object(a.a)(this,r);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(t=Object(o.a)(this,(e=Object(s.a)(r)).call.apply(e,[this].concat(c)))).deleteOrderHandler=function(e){h.a.post("http://localhost:3003/orders/delete?access_token="+t.props.token,{orderId:e}).then((function(e){t.props.onFetchOrders(t.props.token,t.props.userId)})).catch((function(e){return e.response.data}))},t}return Object(c.a)(r,e),Object(n.a)(r,[{key:"componentDidMount",value:function(){this.props.onFetchOrders(this.props.token,this.props.userId)}},{key:"render",value:function(){var e=this,r=p.a.createElement(k.a,null);return this.props.loading||(r=this.props.error?p.a.createElement("p",{style:{margin:"80px"}}," ",this.props.error," "):0===this.props.orders.length?p.a.createElement("p",{style:{margin:"80px"}}," No orders created yet. Make your first one ;) ",p.a.createElement("br",null)," ",p.a.createElement("a",{href:"/"}," Back to main page ")," "):p.a.createElement("div",{style:{marginTop:"80px"}}," ",this.props.orders.map((function(r){return p.a.createElement(m,{ingredients:r.ingredients,price:r.totalPrice,orderData:r.orderData,orderDate:r.createdAt,key:r._id,clicked:function(){return e.deleteOrderHandler(r._id)}})})))),p.a.createElement("div",null,r)}}]),r}(i.Component);r.default=Object(l.b)((function(e){return{orders:e.order.orders,loading:e.order.loading,token:e.auth.token,userId:e.auth.userId,error:e.auth.error}}),(function(e){return{onFetchOrders:function(r,t){return e(g.c(r,t))}}}))(Object(f.a)(y,h.a))}}]);
//# sourceMappingURL=5.9a0f765a.chunk.js.map